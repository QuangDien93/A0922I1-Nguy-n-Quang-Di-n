<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý chuỗi sản phẩm</title>
    <style>
        .panel{
            background-color: #EEEEEE;
            width: 30%;
            margin: auto;
        }
        .panel-heading{
            background-color: #4267b2;
            color: #EEEEEE;
        }
        .panel-body label{
            font-weight: bold;
        }
        .form-group{
            padding: 10px;
        }
        table{
            width: 30%;
            margin: auto;
            border: solid blue 1px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center">ADD a new product</h1><br>
    <div class="panel">
        <div class="panel-heading">
    Input product detail information
        </div>
        <div class="panel-body">

        <div class="form-group">
    <input type="number" id="indexProduct" hidden="true"><br>
    <label>Product name</label><br>
            <input placeholder="New product" type="text" id="inputname"><br>
        </div>
        <div class="form-group">
        <label>Product price</label><br>
    <input placeholder="VND" type="number" id="inputprice"><br>
        </div>
        <div>
    <button class="form-group" onclick="addProduct()">Add a new product</button>
    <button class="form-group" onclick="edit()">Edit the Product</button><br>
        </div>

        </div>
    </div>
<table>
    <tr>
        <th>No.</th>
        <th>Product name</th>
        <th>Product price</th>
        <th></th>
        <th></th>
    </tr>
    <tbody id="result"></tbody>
</table>
</body>
<script>
    let productList = [];
    function showProduct() {
        document.getElementById("result").innerHTML = '';
        for (let i = 0; i <productList.length; i++) {
            document.getElementById("result").innerHTML += '<tr>'
                + '<td>' + (i+1) + '</td>'
                + '<td>' + productList[i].name + '</td>'
                + '<td>' + productList[i].price + '</td>'
                + '<td>' + '<button onclick="editProduct('+ i +')">Edit</button>' + '</td>'
                + '<td>' + '<button onclick="deleteProduct('+ i +')">Delete</button>' + '</td>'
                + '</tr>';
        }
    }
    function addProduct() {
        let productName = document.getElementById("inputname").value;
        let productprice = document.getElementById("inputprice").value;
        let product = {
            name: productName,
            price: productprice,
        }
        productList.push(product);
        showProduct();
        alert('thêm thành công sản phẩm');
    }
    function deleteProduct(x) {
        productList.splice(x,1);
        showProduct();
    }
    function editProduct(x)  {
        document.getElementById("inputname").value = productList[x].name;
        document.getElementById("inputprice").value = productList[x].price;
        document.getElementById("indexProduct").value = x;
    }
    function edit() {
        let index = document.getElementById("indexProduct").value;
        productList[index].name = document.getElementById("inputname").value;
        productList[index].price = document.getElementById("inputprice").value;
        showProduct();
        document.getElementById("indexProduct").value ='';

    }

</script>
</html>